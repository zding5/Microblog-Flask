<!-- This is a parent html, specifying some universal structures for many other pages we have, such as titles, navbars and so on...-->

<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- Responsive Design -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="/static/css/bootstrap.min.css" rel="stylesheet" media="screen">
    <link href="/static/css/bootstrap-theme.min.css" rel="stylesheet">
    <script src="/static/js/jquery-2.1.4.min.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>

    <script src="/static/js/moment.min.js"></script>
    <!-- moment.js handling timestamp rendering. -->


    {% if title %}
    <title>{{ title }} - microblog</title>
    {% else %}
    <title>Welcome to microblog</title>
    {% endif %}
  </head>
  <body>
    <div>Microblog:
      <a href="{{ url_for('index') }}">{{ _('Home') }}</a>
      {% if g.user.is_authenticated() %}
      | <a href="{{ url_for('user', nickname=g.user.nickname) }}">{{ _('Your Profile') }}</a>
      <!-- To go to user's page -->

      | <form style="display: inline;" action="{{ url_for('search') }}" method="post" name="search">

        {{ g.search_form.hidden_tag() }}
        {{ g.search_form.search(size=20) }}
        <input type="submit" value="Search">

      </form>
      <!-- Searching Form -->

      | <a href="{{url_for('logout')}}">{{ _('Logout') }}</a>
      {% endif %}
    </div>
      
    <hr>
    {% with messages = get_flashed_messages() %}
      {% if messages %}
        <ul>
        {% for message in messages %}
            <li>{{ message }} </li>
        {% endfor %}
        </ul>
      {% endif %}
    {% endwith %}
    <!-- Use get_flashed_messages() to get and then display quick message. -->

    {% block content %}{% endblock %}
    <!-- This is the place where child templates can fill in.

    {% block name %}{% endblock %}
    
    Then you have the same name in child templates.

    -->
  </body>
</html>